import{i as I,u as L}from"./faceLandmark-BxCGo5NV.js";import{i as x,S as F,C as k,P as G,W as A,A as P,j as W,G as H,k as E,l as N,m as D,c as O}from"./three.module-0uv1M5cs.js";import{u as v,s as z}from"./headPose-6Lsff1ri.js";const c={backgroundColor:8947848,cameraFOV:50,cameraNear:.1,cameraFar:1e3,cameraInitialZ:10},l={ambientColor:16777215,ambientIntensity:.6,pointColor:16777215,pointIntensity:.8,pointDistance:100},M={panelCount:15,panelDepth:2,panelThickness:.2,initialSize:20,sizeDecrement:1.2,frameWidth:1,material:new x({color:10066329})},R={multiplierY:8,smoothing:.1};let s,e,d,a,u;function _(){s=new F,s.background=new k(c.backgroundColor),e=new G(c.cameraFOV,window.innerWidth/window.innerHeight,c.cameraNear,c.cameraFar),e.position.z=c.cameraInitialZ,d=new A({antialias:!0}),d.setSize(window.innerWidth,window.innerHeight),document.body.appendChild(d.domElement)}function Y(){const r=new P(l.ambientColor,l.ambientIntensity);s.add(r),a=new W(l.pointColor,l.pointIntensity,l.pointDistance),a.position.set(0,0,e.position.z*.5),s.add(a)}function j(){u=new H;const{panelCount:r,panelDepth:p,panelThickness:h,initialSize:w,sizeDecrement:S,frameWidth:b,material:T}=M;for(let m=0;m<r;m++){const f=w-m*S;if(f<=0)break;const t=new E,n=f/2;t.moveTo(-n,-n),t.lineTo(n,-n),t.lineTo(n,n),t.lineTo(-n,n),t.lineTo(-n,-n);const i=(f-b)/2,o=new N;o.moveTo(-i,-i),o.lineTo(i,-i),o.lineTo(i,i),o.lineTo(-i,i),o.lineTo(-i,-i),t.holes.push(o);const y=new D(t,{depth:h,bevelEnabled:!1}),g=new O(y,T);g.position.z=-m*p,u.add(g)}s.add(u)}function V(){e.aspect=window.innerWidth/window.innerHeight,e.updateProjectionMatrix(),d.setSize(window.innerWidth,window.innerHeight)}async function X(){await I(),_(),Y(),j(),window.addEventListener("resize",V),C()}function C(){requestAnimationFrame(C),L(),v();const{multiplierY:r,smoothing:p}=R,h=z.x*-8,w=z.y*r;e.position.x+=(h-e.position.x)*p,e.position.y+=(w-e.position.y)*p,e.lookAt(0,0,0),a.position.x=e.position.x,a.position.y=e.position.y,a.position.z=e.position.z*.5,d.render(s,e)}X();
