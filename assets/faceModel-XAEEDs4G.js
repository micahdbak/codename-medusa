import{a as C,l as E,v as w}from"./faceLandmark-BxCGo5NV.js";import{B as I,f as v,g,h as N,c as l,b as m,d as c}from"./three.module-0uv1M5cs.js";let p,A,M,_,x,S;const G=C.FACE_LANDMARKS_LEFT_EYE,T=[...new Set(G.flatMap(e=>[e.start,e.end]))],b=C.FACE_LANDMARKS_RIGHT_EYE,D=[...new Set(b.flatMap(e=>[e.start,e.end]))],F=[13,14,78,191,80,81,82,312,311,310,415,308];function z(){const e=new m(.07,16,16),a=new g({color:16777215});A=new l(e,a),M=new l(e,a);const o=new m(.058,16,16),t=new g({color:0});_=new l(o,t),x=new l(o,t)}function Y(){const e=new m(.08,16,16),a=new g({color:11160132});S=new l(e,a)}function B(){const e=new I,a=new Float32Array(478*3);e.setAttribute("position",new v(a,3));const o=[],t=C.FACE_LANDMARKS_TESSELATION;for(let s=0;s<t.length;s+=3){const i=t[s],r=t[s+1],n=t[s+2];i&&r&&n&&o.push(i.start,r.start,n.start)}e.setIndex(o);const f=new g({color:16699552,specular:16752768,shininess:100,side:N,flatShading:!1,transparent:!1,opacity:1});p=new l(e,f)}function H(){if(!p||!E||E.length===0||!w||!w.videoWidth)return;const e=p.geometry.attributes.position.array,a=w.videoWidth/w.videoHeight,o=new c,t=new c,f=new c;let s=0,i=0,r=0;for(let n=0;n<E.length;n++){const h=E[n],d=-(h.x-.5)*2*a,u=-(h.y-.5)*2,y=-h.z*3;e[n*3]=d,e[n*3+1]=u,e[n*3+2]=y,T.includes(n)&&(o.add(new c(d,u,y)),s++),D.includes(n)&&(t.add(new c(d,u,y)),i++),F.includes(n)&&(f.add(new c(d,u,y)),r++)}p.geometry.attributes.position.needsUpdate=!0,p.geometry.computeVertexNormals(),s>0&&(o.divideScalar(s),A.position.copy(o),_.position.copy(o).setZ(o.z+.02)),i>0&&(t.divideScalar(i),M.position.copy(t),x.position.copy(t).setZ(t.z+.02)),r>0&&(f.divideScalar(r),S.position.copy(f),S.scale.set(1,.5,.8))}export{z as a,Y as b,B as c,_ as d,x as e,A as l,p as m,M as r,S as t,H as u};
